{"sources":["GroceryList/ListItem/Model.js","GroceryList/ListItem/View.jsx","GroceryList/ListItem/Component.js","GroceryList/ListItem/index.js","GroceryList/Model.js","GroceryList/View.jsx","GroceryList/Component.js","GroceryList/index.js","main.js"],"sourcesContent":["import 'EventEmitter';\r\n\r\nvar counter = 0;\r\n\r\nclass Model extends EventEmitter {\r\n    constructor(parent, text, crossed=false) {\r\n        super();\r\n        this.id = counter++;\r\n        this.parent = parent;\r\n        this.text = text;\r\n        this.crossed = crossed;\r\n    }\r\n    cross() {\r\n        this.crossed = true;\r\n        this.emit('update');\r\n    }\r\n    remove() {\r\n        this.parent.removeItem(this);\r\n    }\r\n    toJSON() {\r\n        return {\r\n            text: this.text,\r\n            crossed: this.crossed\r\n        };\r\n    }\r\n}","<div className={[\"item\",this.model.crossed?'crossed':'']}>\r\n    {this.model.text}\r\n    <div className=\"cross\" if={!this.model.crossed} onClick={this.model.cross}/>\r\n    <div className=\"remove\" if={this.model.crossed} onClick={this.model.remove}/>\r\n</div>","import './View';\r\n\r\nclass Component extends View {\r\n    componentWillMount() {\r\n        this.model = this.props.model;\r\n        this.follow(this.model, 'update');\r\n    }\r\n}","import './Component';\r\n\r\nexport default Component;","import ListItemModel from './ListItem/Model';\r\nimport 'EventEmitter';\r\n\r\nclass Model extends EventEmitter {\r\n    constructor() {\r\n        super();\r\n        this.list = [];\r\n        if (localStorage.GroceryList) {\r\n            var list = JSON.parse(localStorage.GroceryList);\r\n            for (var item of list) {\r\n                item = new ListItemModel(this, item.text, item.crossed);\r\n                this.follow(item, 'update');\r\n                this.list.push(item);\r\n            }\r\n        }\r\n        this.on('update', this.saveOnUpdate);\r\n    }\r\n    addItem(text) {\r\n        if (!text)\r\n            return;\r\n        var item = new ListItemModel(this, text);\r\n        this.follow(item, 'update');\r\n        this.list.push(item);\r\n        this.emit('update');\r\n        return item;\r\n    }\r\n    removeItem(item) {\r\n        for (var i = 0; i < this.list.length; i++) {\r\n            if (this.list[i] == item) {\r\n                this.list.splice(i, 1);\r\n                this.unfollow(item, 'update');\r\n                this.emit('update');\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    saveOnUpdate() {\r\n        localStorage.setItem(\"GroceryList\", JSON.stringify(this.list));\r\n    }\r\n}","import './Style';\r\nimport './ListItem';\r\n\r\n<div className={Style}>\r\n    <div className=\"title\">Grocery List</div>\r\n    <div className=\"list\">\r\n        {this.model.list.map((item) => <ListItem key={item.id} model={item}/>)}\r\n    </div>\r\n    <div className=\"control\">\r\n        <input type=\"text\" onChange={this.bindState('input')} value={this.state.input}/>\r\n        <button onClick={this.addItem}>Add</button>\r\n    </div>\r\n</div>","import './View';\r\nimport './Model';\r\n\r\nclass Component extends View {\r\n    componentWillMount() {\r\n        this.model = new Model();\r\n        this.follow(this.model, 'update');\r\n    }\r\n    addItem() {\r\n        this.model.addItem(this.state.input);\r\n        this.setState({input:''});\r\n    }\r\n}","import './Component';\r\n\r\nexport default Component;","import 'GroceryList';\r\nimport 'UIComponent';\r\n\r\nUIComponent.render(<GroceryList/>, document.body);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8VAEA,IAAI,OAAO,CAAG,CAAC,CAAC,IAEV,KAAK,oCAAL,KAAK,gBACP,SADE,KAAK,CACK,MAAM,CAAE,IAAI,CAAiB,KAAf,OAAO,qDAAC,KAAK,mCADrC,KAAK,4CAEH,wBAAO,EACP,MAAK,EAAE,GAAG,OAAO,EAAE,CAAC,AACpB,MAAK,MAAM,GAAG,MAAM,CAAC,AACrB,MAAK,IAAI,GAAG,IAAI,CAAC,AACjB,MAAK,OAAO,GAAG,OAAO,CAAC,cAC1B,AAPC,KAAK,WAQP,KAAK,+BAAG,CACJ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,AACpB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CACvB,kBAXC,KAAK,WAYP,MAAM,gCAAG,CACL,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAChC,mBAdC,KAAK,WAeP,MAAM,gCAAG,CACL,OAAO,CACH,IAAI,CAAE,IAAI,CAAC,IAAI,CACf,OAAO,CAAE,IAAI,CAAC,OAAO,CACxB,CAAC,CACL,0BApBC,KAAK;;;qnBCJX,2BAAK,SAAS,CAAE,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,AAAC,EACpD,IAAI,CAAC,KAAK,CAAC,IAAI,CAChB,2BAAK,SAAS,CAAC,OAAO,CAAC,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,AAAC,CAAC,OAAO,6BAAE,IAAI,CAAC,KAAK,CAAV,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAC5E,2BAAK,SAAS,CAAC,QAAQ,CAAC,iCAAI,IAAI,CAAC,KAAK,CAAV,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,6BAAE,IAAI,CAAC,KAAK,CAAV,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAC3E;;;uVCFA,SAAS,4BAAT,SAAS,iBAAT,SAAS,wBAAT,SAAS,uEAAT,SAAS,WACX,kBAAkB,4CAAG,CACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,AAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAE,QAAQ,CAAC,CAAC,CACrC,sCAJC,SAAS;;;;;;sjBECT,KAAK,oCAAL,KAAK,gBACP,SADE,KAAK,EACO,sBADZ,KAAK,4CAEH,wBAAO,EACP,MAAK,IAAI,GAAG,EAAE,CAAC,AACf,GAAI,YAAY,CAAC,WAAW,CAAE,CAC1B,IAAI,IAAI,CAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,WAC/B,IAAI,8NAAE,CAAlB,IAAI,IAAI,2CAAA,CAAA,AACT,IAAI,GAAG,6BAAwB,IAAI,CAAC,IAAI,CAAE,IAAI,CAAC,OAAO,CAAC,CAAC,AACxD,MAAK,MAAM,CAAC,IAAI,CAAE,QAAQ,CAAC,CAAC,AAC5B,MAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CACxB,EACJ,AACD,MAAK,EAAE,CAAC,QAAQ,CAAE,MAAK,YAAY,CAAC,CAAC,cACxC,AAbC,KAAK,WAcP,OAAO,gCAAC,IAAI,CAAE,CACV,GAAI,CAAC,IAAI,CACL,OAAO,AACX,IAAI,IAAI,CAAG,uBAAkB,IAAI,CAAE,IAAI,CAAC,CAAC,AACzC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAE,QAAQ,CAAC,CAAC,AAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,AACrB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,AACpB,OAAO,IAAI,CAAC,CACf,oBAtBC,KAAK,WAuBP,UAAU,mCAAC,IAAI,CAAE,CACb,IAAK,IAAI,CAAC,CAAG,CAAC,CAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAE,CAAC,EAAE,EAAE,CACvC,GAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAE,CACtB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,AACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAE,QAAQ,CAAC,CAAC,AAC9B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,AACpB,MAAM,CACT,CACJ,CACJ,uBAhCC,KAAK,WAiCP,YAAY,sCAAG,CACX,YAAY,CAAC,OAAO,CAAC,aAAa,CAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAClE,gCAnCC,KAAK;;;;;;02BCAX,2BAAK,SAAS,mBAAQ,EAClB,2BAAK,SAAS,CAAC,OAAO,iBAAmB,CACzC,2BAAK,SAAS,CAAC,MAAM,EAChB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAC,SAAC,IAAI,qCAAK,2CAAU,GAAG,6BAAE,IAAI,CAAJ,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAE,IAAI,AAAC,EAAE,GAAA,YAAC,CACpE,CACN,2BAAK,SAAS,CAAC,SAAS,EACpB,6BAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,AAAC,CAAC,KAAK,6BAAE,IAAI,CAAC,KAAK,CAAV,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAChF,8BAAQ,OAAO,6BAAE,IAAI,CAAJ,IAAI,CAAC,OAAO,CAAC,QAAa,CACzC,CACJ;;;iaCTA,SAAS,4BAAT,SAAS,iBAAT,SAAS,wBAAT,SAAS,uEAAT,SAAS,WACX,kBAAkB,4CAAG,CACjB,IAAI,CAAC,KAAK,GAAG,wBAAW,CAAC,AACzB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAE,QAAQ,CAAC,CAAC,CACrC,+BAJC,SAAS,WAKX,OAAO,iCAAG,CACN,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,AACrC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAC7B,2BARC,SAAS;;;;;;8QEAf,yBAAY,MAAM,CAAC,kDAAc,CAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;","version":3}